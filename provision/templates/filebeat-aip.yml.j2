filebeat.autodiscover:
  providers:
    - type: docker
      host: tcp://127.0.0.1:2376
      templates:
        - condition:
            contains:
              docker.container.image: castsoftware 
          config:
            - type: container
              tags: ["cast"]
              container.ids:
                - ${data.docker.container.id}
              exclude_lines: ["^\\s+[\\-`('.|_]"]  # drop asciiart lines
              multiline.pattern: '^[[:space:]]+(at|\.{3})\b|^Caused by:'
              multiline.negate: false
              multiline.match: after
            #  processors:
            #  - add_docker_metadata:
            #      host: "unix:///var/run/docker.sock"


output.logstash:
  hosts: ["{{logcollector_host}}:{{logcollector_port}}"]
