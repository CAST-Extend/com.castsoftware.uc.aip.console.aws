filebeat.autodiscover:
  providers:
    - type: docker
      host: tcp://127.0.0.1:2376
      templates:
        - condition:
            contains:
              docker.container.image: castsoftware 
          config:
            - type: container
              tags: ["cast"]
              paths:
              - C:\ProgramData\docker\containers\${data.docker.container.id}\*.log
              exclude_lines: ["^\\s+[\\-`('.|_]"]  # drop asciiart lines
              multiline.pattern: '^[[:space:]]+(at|\.{3})\b|^Caused by:'
              multiline.negate: false
              multiline.match: after


output.logstash:
  hosts: ["{{logcollector_host}}:{{logcollector_port}}"]
